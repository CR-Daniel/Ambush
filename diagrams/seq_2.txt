title In-Game Control and State Transitions

participant "Player" as P
participant "InputManager" as IM
participant "GameManager" as GM
participant "UIManager" as UI
participant "MusicManager" as MM

P->IM: Button Input (A, B, X, Y, Menu)
alt A Button (Next Song)
    IM->MM: Request to change song
end
alt B Button (Exit Game)
    IM->GM: Request to transition to "End" state
end
alt X Button (Volume Down)
    IM->MM: Decrease volume
end
alt Y Button (Volume Up)
    IM->MM: Increase volume
end
alt Menu Button (Pause/Unpause)
    IM->GM: Toggle between "Pause" and "Play" states
    note over GM: Timestop during pause
    GM->UI: Toggles Pause Menu
end
