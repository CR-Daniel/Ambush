title In-Game Control and State Transitions

participant "Player" as P
participant "InputManager" as IM
participant "GameManager" as GM
participant "UIManager" as UI

P->IM: Button Input (A, B, X, Y, Menu)
IM->GM: Interprets button input
alt A Button (Next Song)
    GM->UI: Change song
end
alt B Button (Exit Game)
    GM-->GM: Transitions to "End" state
end
alt X Button (Volume Down)
    UI-->UI: Decrease volume
end
alt Y Button (Volume Up)
    UI-->UI: Increase volume
end
alt Menu Button (Pause/Unpause)
    GM->GM: Transitions between "Pause" and "Play" states
    note over GM: Timestop during pause
    GM->UI: Toggles Pause Menu
end
